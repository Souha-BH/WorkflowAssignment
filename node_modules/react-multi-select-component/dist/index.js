var De=Object.create;var W=Object.defineProperty,Te=Object.defineProperties,Fe=Object.getOwnPropertyDescriptor,Le=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertyNames,ie=Object.getOwnPropertySymbols,Ke=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var ce=(e,r,t)=>r in e?W(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,re=(e,r)=>{for(var t in r||(r={}))de.call(r,t)&&ce(e,t,r[t]);if(ie)for(var t of ie(r))_e.call(r,t)&&ce(e,t,r[t]);return e},pe=(e,r)=>Te(e,Le(r));var Re=(e,r)=>{for(var t in r)W(e,t,{get:r[t],enumerable:!0})},me=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of We(r))!de.call(e,o)&&o!==t&&W(e,o,{get:()=>r[o],enumerable:!(n=Fe(r,o))||n.enumerable});return e};var y=(e,r,t)=>(t=e!=null?De(Ke(e)):{},me(r||!e||!e.__esModule?W(t,"default",{value:e,enumerable:!0}):t,e)),He=e=>me(W({},"__esModule",{value:!0}),e);var Qe={};Re(Qe,{Dropdown:()=>q,MultiSelect:()=>Oe,SelectItem:()=>T,SelectPanel:()=>j});module.exports=He(Qe);function oe(e,{insertAt:r}={}){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}oe(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline:0}.rmsc .select-item:hover,.rmsc .select-item:focus{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);var z=y(require("react"));var I=y(require("react")),Ue={allItemsAreSelected:"All items are selected.",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"No options",search:"Search",selectAll:"Select All",selectAllFiltered:"Select All (Filtered)",selectSomeItems:"Select...",create:"Create"},Be={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[]},ue=I.default.createContext({}),fe=({props:e,children:r})=>{let[t,n]=(0,I.useState)(e.options),o=s=>{var i;return((i=e.overrideStrings)==null?void 0:i[s])||Ue[s]};return(0,I.useEffect)(()=>{n(e.options)},[e.options]),I.default.createElement(ue.Provider,{value:pe(re(re({t:o},Be),e),{options:t,setOptions:n})},r)},A=()=>I.default.useContext(ue);var d=y(require("react"));var U=require("react");function he(e,r){let t=(0,U.useRef)(!1);(0,U.useEffect)(()=>{t.current?e():t.current=!0},r)}var O=require("react"),Ve={when:!0,eventTypes:["keydown"]};function D(e,r,t){let n=(0,O.useMemo)(()=>Array.isArray(e)?e:[e],[e]),o=Object.assign({},Ve,t),{when:s,eventTypes:i}=o,x=(0,O.useRef)(r),{target:c}=o;(0,O.useEffect)(()=>{x.current=r});let f=(0,O.useCallback)(p=>{n.some(m=>p.key===m||p.code===m)&&x.current(p)},[n]);(0,O.useEffect)(()=>{if(s&&typeof window<"u"){let p=c?c.current:window;return i.forEach(m=>{p&&p.addEventListener(m,f)}),()=>{i.forEach(m=>{p&&p.removeEventListener(m,f)})}}},[s,i,n,c,r])}var b={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};var a=y(require("react"));var ge=(e,r)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>{e.apply(null,n)},r)}};function ve(e,r,t){if(!r)return e;let n=be(r,t);return e.filter(({label:o,value:s})=>o!=null&&s!=null).map(o=>({option:o,score:$e(be(o.label,t),n)})).filter(o=>o.score>=Math.max(n.length-2,n.length)).sort((o,s)=>s.score-o.score).map(o=>o.option)}function $e(e,r){let t=e.length,n=r.length,o=[];if(!t||!n)return 0;if(t<n&&([e,r]=[r,e],[t,n]=[n,t]),e.indexOf(r)!==-1)return n+1/t;for(let s=0;s<=t;++s)o[s]=[0];for(let s=0;s<=n;++s)o[0][s]=0;for(let s=1;s<=t;++s)for(let i=1;i<=n;++i)o[s][i]=e[s-1]===r[i-1]?1+o[s-1][i-1]:Math.max(o[s][i-1],o[s-1][i]);return o[t][n]}function be(e,r){if(!e)return"";if(e=e.toUpperCase().replace(/((?=[^\u00E0-\u00FC])\W)|_/g,""),!r)return e;let t=r;return Object.keys(t).reduce((n,o)=>{let s=new RegExp(o,"g");return n.replace(s,t[o])},e)}var B=y(require("react")),V=()=>B.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray"},B.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));var K=y(require("react"));var $=y(require("react")),je=({checked:e,option:r,onClick:t,disabled:n})=>$.default.createElement("div",{className:`item-renderer ${n&&"disabled"}`},$.default.createElement("input",{type:"checkbox",onChange:t,checked:e,tabIndex:-1,disabled:n}),$.default.createElement("span",null,r.label)),xe=je;var Ye=({itemRenderer:e=xe,option:r,checked:t,tabIndex:n,disabled:o,onSelectionChanged:s,onClick:i})=>{let x=(0,K.useRef)(),c=m=>{f(),m.preventDefault()},f=()=>{o||s(!t)},p=m=>{f(),i(m)};return D([b.ENTER,b.SPACE],c,{target:x}),K.default.createElement("label",{className:`select-item ${t&&"selected"}`,role:"option","aria-selected":t,tabIndex:n,ref:x},K.default.createElement(e,{option:r,checked:t,onClick:p,disabled:o}))},T=Ye;var _=y(require("react"));var qe=({options:e,onClick:r,skipIndex:t})=>{let{disabled:n,value:o,onChange:s,ItemRenderer:i}=A(),x=(c,f)=>{n||s(f?[...o,c]:o.filter(p=>p.value!==c.value))};return _.default.createElement(_.default.Fragment,null,e.map((c,f)=>{let p=f+t;return _.default.createElement("li",{key:(c==null?void 0:c.key)||f},_.default.createElement(T,{tabIndex:p,option:c,onSelectionChanged:m=>x(c,m),checked:!!o.find(m=>m.value===c.value),onClick:m=>r(m,p),itemRenderer:i,disabled:c.disabled||n}))}))},Se=qe;var ze=()=>{let{t:e,onChange:r,options:t,setOptions:n,value:o,filterOptions:s,ItemRenderer:i,disabled:x,disableSearch:c,hasSelectAll:f,ClearIcon:p,debounceDuration:m,isCreatable:G,onCreateOption:k}=A(),P=(0,a.useRef)(),S=(0,a.useRef)(),[g,R]=(0,a.useState)(""),[C,J]=(0,a.useState)(t),[w,H]=(0,a.useState)(""),[M,N]=(0,a.useState)(0),Q=(0,a.useCallback)(ge(l=>H(l),m),[]),F=(0,a.useMemo)(()=>{let l=0;return c||(l+=1),f&&(l+=1),l},[c,f]),X={label:e(g?"selectAllFiltered":"selectAll"),value:""},Z=l=>{let u=C.filter(E=>!E.disabled).map(E=>E.value);if(l){let Ne=[...o.map(te=>te.value),...u];return(s?C:t).filter(te=>Ne.includes(te.value))}return o.filter(E=>!u.includes(E.value))},ee=l=>{let u=Z(l);r(u)},v=l=>{Q(l.target.value),R(l.target.value),N(0)},L=()=>{var l;H(""),R(""),(l=S==null?void 0:S.current)==null||l.focus()},le=l=>N(l),ke=l=>{switch(l.code){case b.ARROW_UP:ae(-1);break;case b.ARROW_DOWN:ae(1);break;default:return}l.stopPropagation(),l.preventDefault()};D([b.ARROW_DOWN,b.ARROW_UP],ke,{target:P});let Ee=()=>{N(0)},Ie=async()=>{let l={label:g,value:g,__isNew__:!0};k&&(l=await k(g)),n([l,...t]),L(),r([...o,l])},Ae=async()=>s?await s(t,w):ve(t,w),ae=l=>{let u=M+l;u=Math.max(0,u),u=Math.min(u,t.length+Math.max(F-1,0)),N(u)};(0,a.useEffect)(()=>{var l,u;(u=(l=P==null?void 0:P.current)==null?void 0:l.querySelector(`[tabIndex='${M}']`))==null||u.focus()},[M]);let[Pe,Me]=(0,a.useMemo)(()=>{let l=C.filter(u=>!u.disabled);return[l.every(u=>o.findIndex(E=>E.value===u.value)!==-1),l.length!==0]},[C,o]);return(0,a.useEffect)(()=>{Ae().then(J)},[w,t]),a.default.createElement("div",{className:"select-panel",role:"listbox",ref:P},!c&&a.default.createElement("div",{className:"search"},a.default.createElement("input",{placeholder:e("search"),type:"text","aria-describedby":e("search"),onChange:v,onFocus:Ee,value:g,ref:S,tabIndex:0}),a.default.createElement("button",{type:"button",className:"search-clear-button",hidden:!g,onClick:L,"aria-label":e("clearSearch")},p||a.default.createElement(V,null))),a.default.createElement("ul",{className:"options"},f&&Me&&a.default.createElement(T,{tabIndex:F===1?0:1,checked:Pe,option:X,onSelectionChanged:ee,onClick:()=>le(1),itemRenderer:i,disabled:x}),C.length?a.default.createElement(Se,{skipIndex:F,options:C,onClick:(l,u)=>le(u)}):G?a.default.createElement("li",{onClick:Ie,className:"select-item creatable"},`${e("create")} "${g}"`):a.default.createElement("li",{className:"no-options"},e("noOptions"))))},j=ze;var ne=y(require("react")),ye=({expanded:e})=>ne.default.createElement("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray"},ne.default.createElement("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"}));var se=y(require("react"));var Ce=()=>{let{t:e,value:r,options:t,valueRenderer:n}=A(),o=r.length===0,s=r.length===t.length,i=n&&n(r,t);return o?se.default.createElement("span",{className:"gray"},i||e("selectSomeItems")):se.default.createElement("span",null,i||(s?e("allItemsAreSelected"):(()=>r.map(c=>c.label).join(", "))()))};var Y=y(require("react")),we=({size:e=24})=>Y.default.createElement("span",{style:{width:e,marginRight:"0.2rem"}},Y.default.createElement("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"}},Y.default.createElement("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})));var Ge=()=>{let{t:e,onMenuToggle:r,ArrowRenderer:t,shouldToggleOnHover:n,isLoading:o,disabled:s,onChange:i,labelledBy:x,value:c,isOpen:f,defaultIsOpen:p,ClearSelectedIcon:m,closeOnChangedValue:G}=A();(0,d.useEffect)(()=>{G&&g(!1)},[c]);let[k,P]=(0,d.useState)(!0),[S,g]=(0,d.useState)(p),[R,C]=(0,d.useState)(!1),J=t||ye,w=(0,d.useRef)();he(()=>{r&&r(S)},[S]),(0,d.useEffect)(()=>{p===void 0&&typeof f=="boolean"&&(P(!1),g(f))},[f]);let H=v=>{var L;["text","button"].includes(v.target.type)&&[b.SPACE,b.ENTER].includes(v.code)||(k&&(v.code===b.ESCAPE?(g(!1),(L=w==null?void 0:w.current)==null||L.focus()):g(!0)),v.preventDefault())};D([b.ENTER,b.ARROW_DOWN,b.SPACE,b.ESCAPE],H,{target:w});let M=v=>{k&&n&&g(v)},N=()=>!R&&C(!0),Q=v=>{!v.currentTarget.contains(v.relatedTarget)&&k&&(C(!1),g(!1))},F=()=>M(!0),X=()=>M(!1),Z=()=>{k&&g(o||s?!1:!S)},ee=v=>{v.stopPropagation(),i([]),k&&g(!1)};return d.default.createElement("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":x,"aria-expanded":S,"aria-readonly":!0,"aria-disabled":s,ref:w,onFocus:N,onBlur:Q,onMouseEnter:F,onMouseLeave:X},d.default.createElement("div",{className:"dropdown-heading",onClick:Z},d.default.createElement("div",{className:"dropdown-heading-value"},d.default.createElement(Ce,null)),o&&d.default.createElement(we,null),c.length>0&&d.default.createElement("button",{type:"button",className:"clear-selected-button",onClick:ee,disabled:s,"aria-label":e("clearSelected")},m||d.default.createElement(V,null)),d.default.createElement(J,{expanded:S})),S&&d.default.createElement("div",{className:"dropdown-content"},d.default.createElement("div",{className:"panel-content"},d.default.createElement(j,null))))},q=Ge;var Je=e=>z.default.createElement(fe,{props:e},z.default.createElement("div",{className:`rmsc ${e.className||"multi-select"}`},z.default.createElement(q,null))),Oe=Je;0&&(module.exports={Dropdown,MultiSelect,SelectItem,SelectPanel});
